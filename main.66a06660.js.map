{"version":3,"sources":["scripts/main.js"],"names":["gameButton","document","querySelector","startText","messageLose","messageLose2","messageWin","tableCells","getElementsByClassName","page","score","numberMaker","random","Math","floor","getRandomIntInclusive","min","max","minimal","maximum","ceil","starter","start","end","first","second","initialCells","index1","innerText","classAdder","forEach","element","className","arrayOfFillCells","array","fillCells","index","innerHTML","push","numberAdderAndCheck","fillCells1","i","freeCell","indexOf","fillCells2","classList","remove","length","parentElement","lastElementChild","contains","addEventListener","dataset","condition","add","changes","event","key","rowOfElement","elementParent","children","posOfElementInRow","find","result","cellIndex","j"],"mappings":"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","file":"main.66a06660.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\nconst gameButton = document.querySelector('button');\nconst startText = document.querySelector('.message-start');\nconst messageLose = document.querySelector('.message-lose');\nconst messageLose2 = document.querySelector('.message-lose2');\nconst messageWin = document.querySelector('.message-win');\nconst tableCells = document.getElementsByClassName('field-cell');\nconst page = document.querySelector('html');\nconst score = document.getElementsByClassName('game-score')[0];\n\ngameButton.addEventListener('click', () => {\n  if (gameButton.dataset.condition === 'restart') {\n    gameButton.dataset.condition = 'start';\n    gameButton.classList.remove('restart');\n    gameButton.innerText = 'Start';\n    startText.classList.remove('hidden');\n    score.innerText = 0;\n\n    if (!messageLose.classList.contains('hidden')) {\n      messageLose.classList.add('hidden');\n    }\n\n    if (!messageLose2.classList.contains('hidden')) {\n      messageLose2.classList.add('hidden');\n    }\n\n    if (!messageWin.classList.contains('hidden')) {\n      messageWin.classList.add('hidden');\n    }\n\n    [...tableCells].forEach(element => {\n      element.innerText = '';\n      element.className = 'field-cell';\n    });\n  } else {\n    gameButton.dataset.condition = 'restart';\n    gameButton.classList.add('restart');\n    gameButton.innerText = 'Restart';\n    startText.classList.add('hidden');\n    starter(0, 15);\n  }\n\n  classAdder(tableCells);\n});\n\nfunction numberMaker() {\n  const random = Math.floor(Math.random() * 100) + 1;\n\n  switch (true) {\n    case random < 11:\n      return 4;\n    default:\n      return 2;\n  }\n};\n\nfunction getRandomIntInclusive(min, max) {\n  let minimal = min;\n  let maximum = max;\n\n  minimal = Math.ceil(min);\n  maximum = Math.floor(max);\n\n  return Math.floor(Math.random() * (maximum - minimal + 1)) + min;\n}\n\nfunction starter(start, end) {\n  const first = getRandomIntInclusive(start, end);\n  const second = getRandomIntInclusive(start, end);\n\n  if (first !== second) {\n    const initialCells = [first, second];\n\n    const index0 = initialCells[0];\n    const index1 = initialCells[1];\n\n    tableCells[index0].innerText = `${numberMaker()}`;\n    tableCells[index1].innerText = `${numberMaker()}`;\n  } else {\n    return starter(start, end);\n  }\n};\n\nfunction classAdder() {\n  const arr = [...tableCells];\n\n  arr.forEach(element => {\n    if (element.innerText !== '') {\n      element.className = `field-cell field-cell--${element.innerText}`;\n    } else {\n      element.className = 'field-cell';\n    }\n  });\n}\n\nfunction arrayOfFillCells() {\n  const array = [...tableCells];\n\n  const fillCells = [];\n\n  array.forEach((element, index) => {\n    if (element.innerHTML !== '') {\n      fillCells.push(index);\n    }\n  });\n\n  return fillCells;\n}\n\nfunction numberAdderAndCheck() {\n  const fillCells1 = arrayOfFillCells();\n\n  for (let i = 0; ; i++) {\n    const freeCell = getRandomIntInclusive(0, 15);\n\n    if (fillCells1.indexOf(freeCell) === -1) {\n      tableCells[freeCell].innerText = `${numberMaker()}`;\n      break;\n    }\n  }\n\n  [...tableCells].forEach(element => {\n    if (element.innerText === '2048') {\n      messageWin.classList.remove('hidden');\n    }\n  });\n\n  const fillCells2 = arrayOfFillCells();\n\n  if (fillCells2.length === 16) {\n    for (let i = 0; i < 12; i++) {\n      if (tableCells[i].innerText === tableCells[i + 4].innerText) {\n        return;\n      } else {\n        continue;\n      }\n    }\n\n    for (let i = 0; i < 15; i++) {\n      const parentElement = tableCells[i].parentElement;\n\n      if (tableCells[i].innerText === tableCells[i + 1].innerText\n        && parentElement.lastElementChild !== tableCells[i]) {\n        return;\n      } else {\n        continue;\n      }\n    }\n\n    if (messageWin.classList.contains('hidden')) {\n      messageLose.classList.remove('hidden');\n    } else {\n      messageLose2.classList.remove('hidden');\n    }\n  }\n}\n\npage.addEventListener('keydown', () => {\n  let changes;\n\n  if (event.key === 'ArrowRight'\n  && gameButton.dataset.condition === 'restart') {\n    const array = [...tableCells];\n\n    for (let i = 15; i >= 0; i--) {\n      if (array[i].innerHTML !== '') {\n        const element = array[i];\n        const elementParent = element.parentElement;\n        const rowOfElement = [...elementParent.children];\n        const posOfElementInRow = rowOfElement\n          .find(result => result === element).cellIndex;\n\n        for (let j = posOfElementInRow + 1; j < 4; j++) {\n          if (rowOfElement[j].innerHTML === '' && j !== 3) {\n            continue;\n          } else if (rowOfElement[j].innerHTML === element.innerHTML) {\n            rowOfElement[j].innerHTML\n            = +rowOfElement[j].innerHTML + +element.innerHTML;\n            score.innerText = +score.innerText + +rowOfElement[j].innerText;\n          } else if (rowOfElement[j].innerHTML !== ''\n          && j !== posOfElementInRow + 1) {\n            rowOfElement[j - 1].innerHTML = element.innerHTML;\n          } else if (rowOfElement[j].innerHTML === '') {\n            rowOfElement[j].innerHTML = element.innerHTML;\n          } else {\n            break;\n          }\n          changes = true;\n          rowOfElement[posOfElementInRow].innerHTML = '';\n          break;\n        }\n      } else {\n        continue;\n      }\n    }\n  }\n\n  if (event.key === 'ArrowLeft'\n  && gameButton.dataset.condition === 'restart') {\n    const array = [...tableCells];\n\n    for (let i = 0; i < 16; i++) {\n      if (array[i].innerHTML !== '') {\n        const element = array[i];\n        const elementParent = element.parentElement;\n        const rowOfElement = [...elementParent.children];\n        const posOfElementInRow = rowOfElement\n          .find(result => result === element).cellIndex;\n\n        for (let j = posOfElementInRow - 1; j >= 0; j--) {\n          if (rowOfElement[j].innerHTML === '' && j !== 0) {\n            continue;\n          } else if (rowOfElement[j].innerHTML === element.innerHTML) {\n            rowOfElement[j].innerHTML\n            = +`${rowOfElement[j].innerHTML}` + +`${element.innerHTML}`;\n            score.innerText = +score.innerText + +rowOfElement[j].innerText;\n          } else if (rowOfElement[j].innerHTML !== ''\n          && j !== posOfElementInRow - 1) {\n            rowOfElement[j + 1].innerHTML = element.innerHTML;\n          } else if (rowOfElement[j].innerHTML === '') {\n            rowOfElement[j].innerHTML = element.innerHTML;\n          } else {\n            break;\n          }\n          changes = true;\n          rowOfElement[posOfElementInRow].innerHTML = '';\n          break;\n        }\n      } else {\n        continue;\n      }\n    }\n  }\n\n  if (event.key === 'ArrowDown'\n  && gameButton.dataset.condition === 'restart') {\n    const array = [...tableCells];\n\n    for (let i = 15; i >= 0; i--) {\n      if (array[i].innerHTML !== '') {\n        for (let j = i + 4; j <= 15; j += 4) {\n          if (array[j].innerHTML === '' && j < 12) {\n            continue;\n          } else if (array[j].innerHTML === array[i].innerHTML) {\n            array[j].innerHTML\n            = +array[j].innerHTML + +array[i].innerHTML;\n            score.innerText = +score.innerText + +array[j].innerText;\n          } else if (array[j].innerHTML !== ''\n          && j !== i + 4) {\n            array[j - 4].innerHTML = array[i].innerHTML;\n          } else if (array[j].innerHTML === '') {\n            array[j].innerHTML = array[i].innerHTML;\n          } else {\n            break;\n          }\n          changes = true;\n          array[i].innerHTML = '';\n          break;\n        }\n      } else {\n        continue;\n      }\n    }\n  }\n\n  if (event.key === 'ArrowUp'\n  && gameButton.dataset.condition === 'restart') {\n    const array = [...tableCells];\n\n    for (let i = 0; i < 16; i++) {\n      if (array[i].innerHTML !== '') {\n        for (let j = i - 4; j >= 0; j -= 4) {\n          if (array[j].innerHTML === '' && j > 3) {\n            continue;\n          } else if (array[j].innerHTML === array[i].innerHTML) {\n            array[j].innerHTML\n            = +array[j].innerHTML + +array[i].innerHTML;\n            score.innerText = +score.innerText + +array[j].innerText;\n          } else if (array[j].innerHTML !== ''\n          && j !== i - 4) {\n            array[j + 4].innerHTML = array[i].innerHTML;\n          } else if (array[j].innerHTML === '') {\n            array[j].innerHTML = array[i].innerHTML;\n          } else {\n            break;\n          }\n          changes = true;\n          array[i].innerHTML = '';\n          break;\n        }\n      } else {\n        continue;\n      }\n    }\n  }\n\n  if (changes) {\n    numberAdderAndCheck();\n    classAdder();\n  }\n});\n"]}